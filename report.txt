

Subject: Attempt to Reproduce Malfunction – SR 699539421

Hello,

This mail documents the attempts made to reproduce the malfunction observed during multiple switch upgrade sessions.

A script was developed to simulate link failures on Nexus switches by systematically bouncing interfaces and validating connectivity. Additional reboots and downgrade/upgrade procedures were also performed in an effort to recreate the malfunction.

Summary:
Despite extensive testing, the malfunction could not be reproduced.

Reference:
Please refer to case SR 699539421 for details of the malfunction encountered during the upgrades.

Script Functionality:

1. Interface bouncing (shut/no shut) with a 20s delay to avoid link flapping


2. Monitoring interface status until it shows Connected


3. Pinging an IP through the interface to check for malfunction


4. Repeating the above steps indefinitely



Testing Results:

Phase 1: Lab – Conducted on two different switches, script ran over 30k cycles without reproducing the malfunction.

Phase 2: Production – Ran on a switch where the malfunction was previously observed during an upgrade, completed over 5k cycles with no issues triggered.

Phase 3: Production Reboots & Upgrade/Downgrade – Multiple reboots and a down/upgrade were performed on the same switch (Phase 2) without triggering the malfunction.


Conclusion:
Across lab and production environments, even with extensive interface bouncing and upgrade/downgrade testing, the malfunction could not be reproduced. The tests remain inconclusive due to the lack of identifiable triggers.

If you have any suggestions or hypotheses about possible triggers, please let me know. I am happy to test any ideas—ensuring network stability is our top priority.

Kind regards,
[Your Name]

